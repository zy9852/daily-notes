# 前端需要知道的网络知识概述

## http 与 https

- http：
  - 超文本传输协议，应用最广泛，不安全；
  - 明文传输，不加密
  - 端口号：80
- https：
  - http 的安全版，通过 ssl 加密的传输协议
  - 需要 ca 证书，费用
  - 端口号：443

## http1.0、http1.1、http2.0

**http1.0：**

- 无状态：浏览器不会跟踪和记录请求状态
- 无连接：
  1. 每次发送请求都需要进行一次 tcp 连接，网络利用率低
  2. 会发生阻塞，前一个请求响应到达之后，后一个请求才能发送

**http1.1:**

- 长连接： 新增 connection 字段，设置 keep-alive 值保持连接不中断
- 管道化：可以不用等请求响应即可发送请求，但是响应顺序依旧保持请求顺序，不能解决对头阻塞
- 缓存处理： 浏览器请求资源时，先查找是否有缓存的资源，有，直接取，无，发送请求。cach-control 字段控制
- 断点传输：上传下载资源时，若资源较大，分割为多个部分传输，若与网络阻塞，下次传输从中断点开始，不必重新传输

**http2.0：**

- 二进制分帧：分割为更小的信息和帧进行传输，并采用二进制编码
- 多路复用：统一域名下采用相同的 tcp 连接，基于信息段乱序发送，服务端根据标识符和首部组装信息

> http1.0 => http1.1 主要增加长连接；http1.1 => http2.0 主要增加多路复用

## tcp 与 udp

tcp:

1. 面向连接
2. 面向字节流
3. 可靠传输
4. 首部字节 20-60 字节
5. 传输慢

udp:

1. 无连接
2. 面向数据报
3. 不可靠传输
4. 首部最大字节 8 字节
5. 传输快

## tcp 三次握手与四次挥手

- 三次握手
  1. 客户端向服务器发送连接请求,SYN = 1, seq = x,x 为初始序号，保存在序列号（seq）字段
  2. 服务器向客户端发送确认连接应答，SYN = 1, ACK = 1, seq = y, ACKnum = x+ 1,seq 存放自己的序列号，acknum 为确认序列号
  3. 客户端向服务端发送确认包， SYN = 0， ACKnum = y + 1, ACK = 1
  > 第一次握手服务器了解客户端有发送能力，第二次握手表明服务端有发送和接受能力，第三次握手确认客户端有接受能力
- 四次挥手
  1. 客户端向服务端发送关闭连接的请求
  2. 服务器向客户端发送确认请求，且不再读取数据，可发送数据
  3. 服务器向客户端发送请求，表明关闭通道
  4. 客户端向服务器发送确认包，等待 2msl 后断开连接

## http 状态码

- 200：请求成功
- 301：永久重定向
- 302： 暂时重定向
- 304：未修改
- 400：错误请求
- 401：未授权
- 403：禁止访问
- 404： 未找到资源
- 500：服务器内部错误
- 502： 无效的响应

## osi 七层模型

    1. 物理层（单位比特）
    2. 数据链路层
    3. 网络层
    4. 传输层： tcp/udp在这层传输
    5. 会话层
    6. 表示层
    7. 应用层

## 为什么会造成跨域

> 协议、端口号、域名不一致
